webpackJsonp([1],{"00ul":function(t,e){},LWhV:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},o,!1,function(t){n("00ul")},null,null).exports,r=n("/ocq"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))])])},staticRenderFns:[]};n("VU/8")({name:"HelloWorld",data:function(){return{msg:"我的旅行地图"}}},s,!1,function(t){n("LWhV")},"data-v-265d5593",null).exports;var l={name:"echart",methods:{myEcharts:function(){this.$echarts.init(document.getElementById("main")).setOption({title:{text:"ECharts 入门示例"},tooltip:{},legend:{data:["销量"]},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]})}},mounted:function(){this.myEcharts()}},c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Echarts"},[e("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"main"}})])}]};n("VU/8")(l,c,!1,function(t){n("OO7U")},null,null).exports;var d=n("zMdo"),u=n.n(d),m=(n("Oo0O"),new a.default),h={data:function(){return{myChart:null,mapdata:[]}},methods:{updateData:function(){var t=this;m.$on("eventData",function(e){var n=e.name,a=e.value;t.mapdata.push({name:n,value:a}),console.log(t.datas),console.log(t.geoCoordMap)})},chinaTu:function(){var t=this;console.log("重新绘图ing");this.mapdata;var e={backgroundColor:"#404a59",title:{text:"我的旅行足迹",subtext:"我的足迹终将遍布全世界",left:"center",textStyle:{color:"#e6e6e6"}},tooltip:{formatter:function(t){console.log(t);return"旅行小记:真开心"},trigger:"item"},legend:{orient:"vertical",y:"bottom",x:"right",data:["pm2.5"],textStyle:{color:"#fff"},show:!1},geo:{map:"china",label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#e6e6e6",borderColor:"#111"},emphasis:{areaColor:"#cccccc"}},bottom:0,layoutCenter:["50%","50%"],layoutSize:"100%",zoom:1.3},series:[{name:"旅游",type:"scatter",coordinateSystem:"geo",data:this.mapdata,symbolSize:function(t){return t[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#4d4d4d"}}},{name:"top5",type:"effectScatter",coordinateSystem:"geo",data:[],symbolSize:12,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]};this.myChart=u.a.init(document.getElementById("da")),this.myChart.setOption(e),window.addEventListener("resize",function(){t.myChart.resize()})}},beforeDestroy:function(){this.myChart&&(this.myChart.dispose(),this.myChart=null)},mounted:function(){var t=this;this.$nextTick(function(){t.updateData(),t.chinaTu()})},watch:{mapdata:function(t,e){this.myChart?this.myChart.setOption({series:[{name:"旅游",data:this.mapdata}]}):this.chinaTu()},deep:!0}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"MapMountNode",attrs:{id:"da"}})])},staticRenderFns:[]};var f={name:"addInfo",data:function(){return{city:"",address_detail:null,add_addr_map:{},lng:0,lat:0,oriInputCity:""}},mounted:function(){this.getcity()},methods:{getcity:function(){this.$nextTick(function(){console.log("look at me");var t,e=this,n=new BMap.Map("allmap"),a=new BMap.Point(120.211877,30.255194);n.centerAndZoom(a,15),n.enableScrollWheelZoom(),new BMap.Autocomplete({input:"suggestId",location:n}).addEventListener("onconfirm",function(a){var o=a.item.value;t=o.province+o.city+o.district+o.street+o.business,e.oriInputCity=e.city,e.city=e.oriInputCity+"：（详细地址： "+t+")",console.log(e.oriInputCity),console.log(e.city),function(){console.log("123");var a=new BMap.LocalSearch(n,{onSearchComplete:function(){e.userlocation=a.getResults().getPoi(0).point,console.log(e.userlocation)}});a.search(t)}()})})},add_housing:function(){var t=this.userlocation.lng,e=this.userlocation.lat;this.add_addr_map={name:this.oriInputCity,value:[t,e,30]},console.log(t),console.log(this.add_addr_map),m.$emit("eventData",this.add_addr_map),this.add_addr_map=null}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-form",{attrs:{"label-width":"200px"}},[n("el-form-item",{staticClass:"housing_input",attrs:{label:"足迹",required:""}},[n("el-input",{attrs:{id:"suggestId",placeholder:"请输入到达过的地方，点亮地图",name:"address_detail"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),t._v(" "),n("div",{attrs:{id:"allmap"}}),t._v(" "),n("el-button",{on:{click:t.add_housing}},[t._v("点亮")])],1)],1)],1)},staticRenderFns:[]};var y={name:"index",components:{footmap:n("VU/8")(h,p,!1,function(t){n("naFl")},"data-v-2a98884e",null).exports,addInfo:n("VU/8")(f,v,!1,function(t){n("mYlm")},"data-v-df457a6c",null).exports}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[e("el-header",[e("addInfo")],1),this._v(" "),e("el-main",[e("footmap")],1)],1)},staticRenderFns:[]};var _=n("VU/8")(y,g,!1,function(t){n("TrLb")},null,null).exports;a.default.use(r.a);var b=new r.a({routes:[{path:"/",component:_}]}),C=n("gU9C"),w=n.n(C);n("b6Kr");a.default.prototype.$echarts=u.a,a.default.use(w.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:b,components:{App:i},template:"<App/>"})},OO7U:function(t,e){},TrLb:function(t,e){},b6Kr:function(t,e){},mYlm:function(t,e){},naFl:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d2b1b1c699fa27b2f35e.js.map